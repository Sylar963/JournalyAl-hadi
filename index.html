<!DOCTYPE html>
<html lang="en" data-theme="twilight">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Emotion Journal</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    >
    <link rel="icon" type="image/x-icon" href="/favicon.ico" />
    <style>
      body {
        font-family: "Inter", sans-serif;
        --bg-color: #0c0c0e;
        /* A very dark, slightly cool gray */
        --grid-line-color: rgba(255, 255, 255, 0.15);
        /* Increased opacity for visibility */
        --chart-glow-color-1: rgba(250, 204, 21, 0.04);
        /* Faint yellow from theme */
        --chart-glow-color-2: rgba(96, 165, 250, 0.04);
        /* Faint blue from theme */
        --calendar-border: rgba(255, 255, 255, 0.3);
        /* Default Twilight border */

        color: #f3f4f6;
        /* Equivalent to text-gray-100 */
        background-color: transparent;
        transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out;
      }

      @keyframes cell-click-animation {
        0% {
          transform: scale(1);
          box-shadow: 0 0 0 rgba(250, 204, 21, 0);
        }

        50% {
          transform: scale(1.05);
          box-shadow: 0 0 20px rgba(250, 204, 21, 0.3);
          z-index: 10;
        }

        100% {
          transform: scale(1);
          box-shadow: 0 0 0 rgba(250, 204, 21, 0);
        }
      }

      .animate-cell-click {
        animation: cell-click-animation 0.4s ease-in-out;
      }

      @keyframes content-entry {
        from {
          opacity: 0;
          transform: scale(0.98) translateY(10px);
          filter: blur(2px);
        }

        to {
          opacity: 1;
          transform: scale(1) translateY(0);
          filter: blur(0px);
        }
      }

      .animate-content-entry {
        animation: content-entry 0.4s cubic-bezier(0.215, 0.610, 0.355, 1.000)
          forwards;
      }

      @keyframes fade-in {
        from {
          opacity: 0;
        }

        to {
          opacity: 1;
        }
      }

      .animate-fade-in {
        animation: fade-in 0.7s ease-in-out forwards;
      }

      @keyframes popover-enter {
        from {
          opacity: 0;
          transform: scale(0.95) translateY(-10px);
        }

        to {
          opacity: 1;
          transform: scale(1) translateY(0);
        }
      }

      .animate-popover-enter {
        animation: popover-enter 0.2s cubic-bezier(0.215, 0.610, 0.355, 1.000)
          forwards;
        transform-origin: top right;
      }

      /* ===== DAY OF WEEK COLORS ===== */
      .day-su {
        color: #f87171;
      }

      /* red-400 */
      .day-mo {
        color: #fbbf24;
      }

      /* amber-400 */
      .day-tu {
        color: #fde047;
      }

      /* yellow-300 */
      .day-we {
        color: #a3e635;
      }

      /* lime-400 */
      .day-th {
        color: #38bdf8;
      }

      /* sky-400 */
      .day-fr {
        color: #818cf8;
      }

      /* indigo-400 */
      .day-sa {
        color: #c026d3;
      }

      /* fuchsia-400 */

      [data-theme="sunrise"] .day-su {
        color: #ef4444;
      }

      /* red-500 */
      [data-theme="sunrise"] .day-mo {
        color: #f97316;
      }

      /* orange-500 */
      [data-theme="sunrise"] .day-tu {
        color: #f59e0b;
      }

      /* amber-500 */
      [data-theme="sunrise"] .day-we {
        color: #eab308;
      }

      /* yellow-500 */
      [data-theme="sunrise"] .day-th {
        color: #65a30d;
      }

      /* lime-600 */
      [data-theme="sunrise"] .day-fr {
        color: #0d9488;
      }

      /* teal-600 */
      [data-theme="sunrise"] .day-sa {
        color: #f43f5e;
      }

      /* rose-500 */

      [data-theme="cyberpunk"] .day-su {
        color: #ec4899;
      }

      /* pink-500 */
      [data-theme="cyberpunk"] .day-mo {
        color: #d946ef;
      }

      /* fuchsia-500 */
      [data-theme="cyberpunk"] .day-tu {
        color: #a855f7;
      }

      /* purple-500 */
      [data-theme="cyberpunk"] .day-we {
        color: #22d3ee;
      }

      /* cyan-400 */
      [data-theme="cyberpunk"] .day-th {
        color: #a3e635;
      }

      /* lime-400 */
      [data-theme="cyberpunk"] .day-fr {
        color: #facc15;
      }

      /* yellow-400 */
      [data-theme="cyberpunk"] .day-sa {
        color: #f43f5e;
      }

      /* rose-500 */

      [data-theme="forest"] .day-su {
        color: #dc2626;
      }

      /* red-600 */
      [data-theme="forest"] .day-mo {
        color: #ea580c;
      }

      /* orange-600 */
      [data-theme="forest"] .day-tu {
        color: #f59e0b;
      }

      /* amber-500 */
      [data-theme="forest"] .day-we {
        color: #eab308;
      }

      /* yellow-500 */
      [data-theme="forest"] .day-th {
        color: #22c55e;
      }

      /* green-500 */
      [data-theme="forest"] .day-fr {
        color: #14b8a6;
      }

      /* teal-500 */
      [data-theme="forest"] .day-sa {
        color: #e11d48;
      }

      /* rose-600 */

      /* ===== THEME OVERRIDES ===== */

      /* --- Sunrise Theme --- */
      [data-theme="sunrise"] {
        --bg-color: #fafaf9;
        /* stone-50 */
        --grid-line-color: rgba(0, 0, 0, 0.05);
        --chart-glow-color-1: rgba(251, 146, 60, 0.06);
        --chart-glow-color-2: rgba(239, 68, 68, 0.05);
        --calendar-border: rgba(28, 25, 23, 0.2);
        /* Dark Stone */
        color: #1c1917;
        /* stone-900 */
      }

      [data-theme="sunrise"] .bg-black,
      [data-theme="sunrise"] .bg-black\/10,
      [data-theme="sunrise"] .bg-black\/20,
      [data-theme="sunrise"] .bg-black\/25 {
        background-color: #fdfdfd !important;
      }

      [data-theme="sunrise"] .bg-gray-900 {
        background-color: #f1f5f9 !important;
      }

      [data-theme="sunrise"] .bg-gray-900\/50 {
        background-color: rgba(241, 245, 249, 0.7) !important;
      }

      [data-theme="sunrise"] .bg-gray-800,
      [data-theme="sunrise"] .hover\:bg-gray-800:hover {
        background-color: #e2e8f0 !important;
      }

      [data-theme="sunrise"] .bg-gray-800\/50 {
        background-color: rgba(226, 232, 240, 0.5) !important;
      }

      [data-theme="sunrise"] .bg-gray-700,
      [data-theme="sunrise"] .hover\:bg-gray-700:hover {
        background-color: #cbd5e1 !important;
      }

      [data-theme="sunrise"] .hover\:bg-gray-600:hover {
        background-color: #94a3b8 !important;
      }

      [data-theme="sunrise"] .border-gray-800,
      [data-theme="sunrise"] .border-gray-800\/50 {
        border-color: #e2e8f0 !important;
      }

      [data-theme="sunrise"] .border-gray-700 {
        border-color: #cbd5e1 !important;
      }

      [data-theme="sunrise"] .border-gray-900 {
        border-color: #e2e8f0 !important;
      }

      [data-theme="sunrise"] .text-white,
      [data-theme="sunrise"] .hover\:text-white:hover {
        color: #1c1917 !important;
      }

      [data-theme="sunrise"] .text-gray-100 {
        color: #27272a !important;
      }

      [data-theme="sunrise"] .text-gray-200,
      [data-theme="sunrise"] .hover\:text-gray-200:hover {
        color: #3f3f46 !important;
      }

      [data-theme="sunrise"] .text-gray-300 {
        color: #52525b !important;
      }

      [data-theme="sunrise"] .text-gray-400 {
        color: #71717a !important;
      }

      [data-theme="sunrise"] .text-gray-500 {
        color: #a1a1aa !important;
      }

      [data-theme="sunrise"] .text-gray-600 {
        color: #d4d4d8 !important;
      }

      [data-theme="sunrise"] .bg-yellow-600,
      [data-theme="sunrise"] .hover\:bg-yellow-700:hover {
        background-color: #f97316 !important;
      }

      [data-theme="sunrise"] .text-yellow-300 {
        color: #ea580c !important;
      }

      [data-theme="sunrise"] .text-yellow-400,
      [data-theme="sunrise"] .focus\:ring-yellow-500:focus {
        color: #f97316 !important;
      }

      [data-theme="sunrise"] .bg-yellow-400\/10 {
        background-color: rgba(251, 146, 60, 0.1) !important;
      }

      [data-theme="sunrise"] .focus\:ring-yellow-500:focus {
        ring-color: #f97316 !important;
      }

      [data-theme="sunrise"] .accent-yellow-500 {
        accent-color: #f97316 !important;
      }

      [data-theme="sunrise"] .bg-amber-600 {
        background-color: #d97706 !important;
      }

      [data-theme="sunrise"] .text-black {
        color: #ffffff !important;
      }

      [data-theme="sunrise"] .border-black {
        border-color: #ffffff !important;
      }

      [data-theme="sunrise"] .bg-yellow-400 {
        background-color: #fb923c !important;
      }

      /* --- Cyberpunk Theme --- */
      [data-theme="cyberpunk"] {
        --bg-color: #0d0221;
        --grid-line-color: rgba(244, 63, 94, 0.2);
        --chart-glow-color-1: rgba(236, 72, 153, 0.05);
        --chart-glow-color-2: rgba(56, 189, 248, 0.05);
        color: #e0e0e0;
      }

      [data-theme="cyberpunk"] .bg-black,
      [data-theme="cyberpunk"] .bg-black\/10,
      [data-theme="cyberpunk"] .bg-black\/20,
      [data-theme="cyberpunk"] .bg-black\/25 {
        background-color: #0d0221 !important;
      }

      [data-theme="cyberpunk"] .bg-gray-900 {
        background-color: #1d1049 !important;
      }

      [data-theme="cyberpunk"] .bg-gray-900\/50 {
        background-color: rgba(29, 16, 73, 0.7) !important;
      }

      [data-theme="cyberpunk"] .bg-gray-800,
      [data-theme="cyberpunk"] .hover\:bg-gray-800:hover {
        background-color: #2c1a6e !important;
      }

      [data-theme="cyberpunk"] .bg-gray-800\/50 {
        background-color: rgba(44, 26, 110, 0.5) !important;
      }

      [data-theme="cyberpunk"] .bg-gray-700,
      [data-theme="cyberpunk"] .hover\:bg-gray-700:hover {
        background-color: #3e2a93 !important;
      }

      [data-theme="cyberpunk"] .hover\:bg-gray-600:hover {
        background-color: #4f3aa8 !important;
      }

      [data-theme="cyberpunk"] .border-gray-800,
      [data-theme="cyberpunk"] .border-gray-800\/50 {
        border-color: rgba(244, 63, 94, 0.3) !important;
      }

      [data-theme="cyberpunk"] .border-gray-700 {
        border-color: rgba(244, 63, 94, 0.4) !important;
      }

      [data-theme="cyberpunk"] .border-gray-900 {
        border-color: #1d1049 !important;
      }

      [data-theme="cyberpunk"] .text-gray-300 {
        color: #a5b4fc !important;
      }

      [data-theme="cyberpunk"] .text-gray-400 {
        color: #818cf8 !important;
      }

      [data-theme="cyberpunk"] .text-gray-500 {
        color: #6366f1 !important;
      }

      [data-theme="cyberpunk"] .bg-yellow-600,
      [data-theme="cyberpunk"] .hover\:bg-yellow-700:hover {
        background-color: #ec4899 !important;
      }

      [data-theme="cyberpunk"] .text-yellow-300 {
        color: #f472b6 !important;
      }

      [data-theme="cyberpunk"] .text-yellow-400 {
        color: #ec4899 !important;
      }

      [data-theme="cyberpunk"] .bg-yellow-400\/10 {
        background-color: rgba(236, 72, 153, 0.1) !important;
      }

      [data-theme="cyberpunk"] .focus\:ring-yellow-500:focus {
        ring-color: #ec4899 !important;
      }

      [data-theme="cyberpunk"] .accent-yellow-500 {
        accent-color: #ec4899 !important;
      }

      [data-theme="cyberpunk"] .bg-amber-600 {
        background-color: #db2777 !important;
      }

      [data-theme="cyberpunk"] .text-black {
        color: #ffffff !important;
      }

      [data-theme="cyberpunk"] .border-black {
        border-color: #ffffff !important;
      }

      [data-theme="cyberpunk"] .bg-yellow-400 {
        background-color: #f43f5e !important;
      }

      /* --- Forest Theme --- */
      [data-theme="forest"] {
        --bg-color: #0a140f;
        --grid-line-color: rgba(134, 239, 172, 0.1);
        --chart-glow-color-1: rgba(251, 191, 36, 0.05);
        --chart-glow-color-2: rgba(52, 211, 153, 0.05);
        color: #d1d5db;
        /* gray-300 */
      }

      [data-theme="forest"] .bg-black,
      [data-theme="forest"] .bg-black\/10,
      [data-theme="forest"] .bg-black\/20,
      [data-theme="forest"] .bg-black\/25 {
        background-color: #0a140f !important;
      }

      [data-theme="forest"] .bg-gray-900 {
        background-color: #111f19 !important;
      }

      [data-theme="forest"] .bg-gray-900\/50 {
        background-color: rgba(17, 31, 25, 0.7) !important;
      }

      [data-theme="forest"] .bg-gray-800,
      [data-theme="forest"] .hover\:bg-gray-800:hover {
        background-color: #1b3127 !important;
      }

      [data-theme="forest"] .bg-gray-800\/50 {
        background-color: rgba(27, 49, 39, 0.5) !important;
      }

      [data-theme="forest"] .bg-gray-700,
      [data-theme="forest"] .hover\:bg-gray-700:hover {
        background-color: #264235 !important;
      }

      [data-theme="forest"] .hover\:bg-gray-600:hover {
        background-color: #315443 !important;
      }

      [data-theme="forest"] .border-gray-800,
      [data-theme="forest"] .border-gray-800\/50 {
        border-color: #264235 !important;
      }

      [data-theme="forest"] .border-gray-700 {
        border-color: #315443 !important;
      }

      [data-theme="forest"] .border-gray-900 {
        border-color: #111f19 !important;
      }

      [data-theme="forest"] .text-white,
      [data-theme="forest"] .hover\:text-white:hover {
        color: #f3f4f6 !important;
      }

      [data-theme="forest"] .text-gray-300 {
        color: #a3b9ad !important;
      }

      [data-theme="forest"] .text-gray-400 {
        color: #8ca898 !important;
      }

      [data-theme="forest"] .text-gray-500 {
        color: #759281 !important;
      }

      [data-theme="forest"] .bg-yellow-600,
      [data-theme="forest"] .hover\:bg-yellow-700:hover {
        background-color: #f59e0b !important;
      }

      [data-theme="forest"] .text-yellow-300 {
        color: #fcd34d !important;
      }

      [data-theme="forest"] .text-yellow-400 {
        color: #fbbf24 !important;
      }

      [data-theme="forest"] .bg-yellow-400\/10 {
        background-color: rgba(251, 191, 36, 0.1) !important;
      }

      [data-theme="forest"] .focus\:ring-yellow-500:focus {
        ring-color: #f59e0b !important;
      }

      [data-theme="forest"] .accent-yellow-500 {
        accent-color: #f59e0b !important;
      }

      [data-theme="forest"] .bg-amber-600 {
        background-color: #d97706 !important;
      }

      [data-theme="forest"] .text-black {
        color: #0a140f !important;
      }

      [data-theme="forest"] .border-black {
        border-color: #0a140f !important;
      }
      [data-theme="forest"] .bg-yellow-400 {
        background-color: #fbbf24 !important;
      }

      /* Energy Line Effect - Enterprise Grade */
    .energy-border {
      position: relative;
      /* Subtle, refined border */
      border: 1px solid rgba(255, 255, 255, 0.08);
      /* Sophisticated, deep glow */
      box-shadow: 0 0 20px rgba(0, 0, 0, 0.5), inset 0 0 0 1px rgba(255, 255, 255, 0.05);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      overflow: hidden;
    }

    /* Animated gradient shine effect */
    .energy-border::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 200%;
      height: 100%;
      background: linear-gradient(
        90deg, 
        transparent, 
        rgba(59, 130, 246, 0.1), 
        transparent
      );
      transition: left 0.5s ease;
      pointer-events: none;
    }
    
    .energy-border:hover {
      border-color: rgba(59, 130, 246, 0.3);
      box-shadow: 0 10px 40px -10px rgba(59, 130, 246, 0.15);
      transform: translateY(-2px);
    }

    .energy-border:hover::before {
      left: 100%;
      transition: left 1s ease;
    }
  </style>
    <script src="https://cdn.tailwindcss.com"></script>
    <script type="importmap">
      {
        "imports": {
          "react-dom/": "https://esm.sh/react-dom@18.2.0/",
          "react": "https://esm.sh/react@18.2.0",
          "@google/genai": "https://esm.sh/@google/genai@^1.9.0",
          "react-chartjs-2": "https://esm.sh/react-chartjs-2@5.2.0?deps=react@18.2.0,chart.js@4.4.3",
          "chart.js": "https://esm.sh/chart.js@4.4.3",
          "chart.js/": "https://esm.sh/chart.js@4.4.3/",
          "react/": "https://esm.sh/react@18.2.0/",
          "@supabase/supabase-js": "https://esm.sh/@supabase/supabase-js@2"
        }
      }
    </script>
  </head>

  <body>
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>
